<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard Bonus Hunt</title>
  <link rel="stylesheet" href="dashboard.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="logo">🎰 Rebeu Masquey</div>
      <h3>Mes bonus hunts</h3>
      <p id="userEmailDisplay" style="font-size: 14px; margin-bottom: 10px;"></p>
      <ul class="session-list" id="sessionList"></ul>
      <button class="btn add-session" id="addSessionBtn">+ Lancer un bonus hunt</button>
      <button class="bonus-btn">Récupère ton bonus casino</button>
      <button class="btn logout-btn" id="logoutBtn" style="margin-top: 20px;">Déconnexion</button>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">
      <header class="header">
        <h1>SHINY WILD • CASINO</h1>
        <div class="header-actions">
          <label class="public-switch">
            Bonus Hunt: #<span id="sessionNumber">1</span>
            <input type="checkbox" checked />
            <span class="switch-text">Rendre public</span>
          </label>
          <div class="theme-toggle" title="Activer/désactiver le mode sombre">
            <span id="theme-icon">🌞</span>
            <label class="switch">
              <input type="checkbox" id="themeSwitch" />
              <span class="slider"></span>
            </label>
          </div>
        </div>
      </header>

      <section class="add-session-form">
        <h2>Ajouter une session Bonus Hunt</h2>
        <form id="sessionForm">
          <div id="successMessage" class="success-msg" style="display:none;">
            ✅ Session ajoutée avec succès !
          </div>

          <div class="form-field">
            <label for="date">Date :</label>
            <input type="date" id="date" required autofocus />
          </div>

          <div class="form-field">
            <label for="fournisseurSelect">Fournisseur :</label>
            <select id="fournisseurSelect" required>
              <option value="" disabled selected>-- Choisir un fournisseur --</option>
            </select>
          </div>

          <div class="form-field">
            <label for="machineSelect">Machine :</label>
            <select id="machineSelect" required>
              <option value="" disabled selected>-- Choisir une machine --</option>
            </select>
          </div>

          <div class="form-field">
            <label for="investi">Montant investi (€) :</label>
            <input type="number" id="investi" placeholder="Montant investi (€)" required />
          </div>

          <div class="form-field">
            <label for="gains">Gains (€) :</label>
            <input type="number" id="gains" placeholder="Gains (€)" required />
          </div>

          <div class="form-field" style="align-self: end;">
            <button type="submit" class="bonus-btn">Ajouter la session</button>
          </div>
        </form>
      </section>

      <section class="bonus-sessions">
        <h2>Sessions Bonus Hunt</h2>

        <!-- 🔍 Barre de recherche et filtre -->
        <div class="search-filter">
          <input type="text" id="searchInput" placeholder="Rechercher une machine ou un fournisseur..." />
          <select id="fournisseurFilter">
            <option value="">Tous les fournisseurs</option>
          </select>
        </div>

        <table>
          <thead>
            <tr>
              <th>Date</th>
              <th>Machine</th>
              <th>Total Investi (€)</th>
              <th>Gains (€)</th>
              <th>Statut</th>
              <th></th>
            </tr>
          </thead>
          <tbody id="sessionTableBody"></tbody>
        </table>
      </section>

      <!-- 📊 Zone de statistiques -->
      <section style="margin-top: 50px;">
        <h2>Statistiques</h2>
        <canvas id="statsChart" height="100"></canvas>
      </section>

    </main>
  </div>

  <script src="dashboard.js"></script>
</body>
</html>
